(()=>{var e={};e.id=363,e.ids=[363],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},1282:e=>{"use strict";e.exports=require("child_process")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},9801:e=>{"use strict";e.exports=require("os")},6162:e=>{"use strict";e.exports=require("stream")},4501:e=>{"use strict";e.exports=require("tls")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},8359:()=>{},3739:()=>{},7205:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),t(3469),t(1506),t(5866);var r=t(3191),a=t(8716),i=t(7922),o=t.n(i),l=t(5231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);t.d(s,n);let d=["",{children:["mobile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3469)),"/home/jkmills/repo/gamemaster/app/mobile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1506)),"/home/jkmills/repo/gamemaster/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/jkmills/repo/gamemaster/app/mobile/page.tsx"],m="/mobile/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/mobile/page",pathname:"/mobile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8754:()=>{},7139:(e,s,t)=>{Promise.resolve().then(t.bind(t,2452))},754:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},2452:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(326),a=t(7577);function i(){let[e,s]=(0,a.useState)(null),[t,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[n,d]=(0,a.useState)(()=>Math.random().toString(36).slice(2,10).toUpperCase()),[c,m]=(0,a.useState)(!1),[u,p]=(0,a.useState)([]),[x,h]=(0,a.useState)(null),b=(0,a.useMemo)(()=>!!x&&x.turn===n,[x,n]),g=()=>e?.emit("drawCard",{roomCode:t,playerId:n}),j=s=>{let r;if(e){if("W"===u[s]){let e=(prompt("Choose color: R, G, B, or Y","R")||"").trim().toUpperCase()[0];if(e&&["R","G","B","Y"].includes(e))r=e;else{alert("Invalid color. Play canceled.");return}}e.emit("playCard",{roomCode:t,playerId:n,cardIndex:s,chosenColor:r})}};return(0,r.jsxs)("main",{className:"space-y-4",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Mobile"}),c?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"text-sm",children:["Room: ",r.jsx("span",{className:"font-mono",children:x?.code??t})]}),(0,r.jsxs)("div",{className:"text-sm",children:["Status: ",x?.status??"—"]}),(0,r.jsxs)("div",{className:"text-sm",children:["Discard Top: ",r.jsx("span",{className:"font-mono",children:x?.discardTop??"—"})]}),(0,r.jsxs)("div",{className:"text-sm",children:["My Turn: ",b?"Yes":"No"]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium mb-1",children:"My Hand"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((e,s)=>r.jsx("button",{onClick:()=>b&&j(s),className:`px-3 py-2 rounded border ${b?"hover:bg-blue-50 dark:hover:bg-blue-900/30":"opacity-60 cursor-not-allowed"}`,disabled:!b,title:b?"Play":"Wait for your turn",children:e},`${e}-${s}`))})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white disabled:opacity-50",disabled:!e||!t,onClick:()=>{b||alert("Not your turn"),g()},children:"Draw"}),r.jsx("button",{className:"px-4 py-2 rounded bg-slate-600 text-white disabled:opacity-50",disabled:!b,onClick:()=>e?.emit("passTurn",{roomCode:t,playerId:n}),children:"Pass"})]})]}):(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["Your ID: ",r.jsx("span",{className:"font-mono",children:n})]}),(0,r.jsxs)("label",{className:"block",children:[r.jsx("span",{className:"text-sm",children:"Room Code"}),r.jsx("input",{className:"block mt-1 w-full border rounded px-3 py-2 bg-white/80 dark:bg-black/20",placeholder:"e.g. ABC123",value:t,onChange:e=>i(e.target.value.toUpperCase())})]}),(0,r.jsxs)("label",{className:"block",children:[r.jsx("span",{className:"text-sm",children:"Display Name"}),r.jsx("input",{className:"block mt-1 w-full border rounded px-3 py-2 bg-white/80 dark:bg-black/20",placeholder:"e.g. Alice",value:o,onChange:e=>l(e.target.value)})]}),r.jsx("button",{className:"px-4 py-2 rounded bg-emerald-600 text-white disabled:opacity-50",disabled:!e||!t||!o,onClick:()=>{if(!e||!t||!o)return;let s=t.trim().toUpperCase(),r=o.trim();i(s),e.emit("joinRoom",{roomCode:s,playerId:n,name:r}),m(!0);try{localStorage.setItem("gm.session",JSON.stringify({roomCode:s,playerId:n,name:r,joined:!0}))}catch{}},children:"Join Room"})]})]})}t(8848)},1506:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i,metadata:()=>a});var r=t(9510);t(7272);let a={title:"Gamemaster MVP",description:"Single-app MVP with Socket.IO"};function i({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:(0,r.jsxs)("div",{className:"container",children:[r.jsx("header",{className:"mb-6 py-4 border-b border-gray-200 dark:border-gray-800",children:r.jsx("h1",{className:"text-2xl font-semibold",children:"Gamemaster MVP"})}),e]})})})}},3469:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`/home/jkmills/repo/gamemaster/app/mobile/page.tsx#default`)},7272:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[819,848],()=>t(7205));module.exports=r})();